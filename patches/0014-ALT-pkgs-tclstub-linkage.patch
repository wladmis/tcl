From ad6429938fdeb1cefbbcee019033cc87842d037d Mon Sep 17 00:00:00 2001
From: "Vladimir D. Seleznev" <vseleznv@altlinux.org>
Date: Fri, 8 Jan 2021 13:12:11 +0300
Subject: [PATCH] ALT pkgs tclstub linkage

---
 tcl/pkgs/itcl4.2.2/configure         | 2 +-
 tcl/pkgs/sqlite3.36.0/configure      | 2 +-
 tcl/pkgs/tdbc1.1.3/configure         | 2 +-
 tcl/pkgs/tdbcmysql1.1.3/configure    | 2 +-
 tcl/pkgs/tdbcodbc1.1.3/configure     | 2 +-
 tcl/pkgs/tdbcpostgres1.1.3/configure | 2 +-
 tcl/pkgs/thread2.8.7/configure       | 2 +-
 7 files changed, 7 insertions(+), 7 deletions(-)

diff --git a/tcl/pkgs/itcl4.2.2/configure b/tcl/pkgs/itcl4.2.2/configure
index 4ed1e875df..e7df8a7641 100755
--- a/tcl/pkgs/itcl4.2.2/configure
+++ b/tcl/pkgs/itcl4.2.2/configure
@@ -9073,7 +9073,7 @@ rm -rf conftest*
     else
 	RANLIB_STUB="${RANLIB}"
 	if test "${SHARED_BUILD}" = "1" ; then
-	    SHLIB_LD_LIBS="${SHLIB_LD_LIBS} ${TCL_STUB_LIB_SPEC}"
+	    SHLIB_LD_LIBS="${SHLIB_LD_LIBS} -L../.. ${TCL_STUB_LIB_SPEC}"
 	    if test x"${TK_BIN_DIR}" != x ; then
 		SHLIB_LD_LIBS="${SHLIB_LD_LIBS} ${TK_STUB_LIB_SPEC}"
 	    fi
diff --git a/tcl/pkgs/sqlite3.36.0/configure b/tcl/pkgs/sqlite3.36.0/configure
index cc39315f63..00efebdd73 100755
--- a/tcl/pkgs/sqlite3.36.0/configure
+++ b/tcl/pkgs/sqlite3.36.0/configure
@@ -9246,7 +9246,7 @@ rm -rf conftest*
     else
 	RANLIB_STUB="${RANLIB}"
 	if test "${SHARED_BUILD}" = "1" ; then
-	    SHLIB_LD_LIBS="${SHLIB_LD_LIBS} ${TCL_STUB_LIB_SPEC}"
+	    SHLIB_LD_LIBS="${SHLIB_LD_LIBS} -L../.. ${TCL_STUB_LIB_SPEC}"
 	    if test x"${TK_BIN_DIR}" != x ; then
 		SHLIB_LD_LIBS="${SHLIB_LD_LIBS} ${TK_STUB_LIB_SPEC}"
 	    fi
diff --git a/tcl/pkgs/tdbc1.1.3/configure b/tcl/pkgs/tdbc1.1.3/configure
index 2b14857a9e..b703832916 100755
--- a/tcl/pkgs/tdbc1.1.3/configure
+++ b/tcl/pkgs/tdbc1.1.3/configure
@@ -9145,7 +9145,7 @@ rm -rf conftest*
     else
 	RANLIB_STUB="${RANLIB}"
 	if test "${SHARED_BUILD}" = "1" ; then
-	    SHLIB_LD_LIBS="${SHLIB_LD_LIBS} ${TCL_STUB_LIB_SPEC}"
+	    SHLIB_LD_LIBS="${SHLIB_LD_LIBS} -L../.. ${TCL_STUB_LIB_SPEC}"
 	    if test x"${TK_BIN_DIR}" != x ; then
 		SHLIB_LD_LIBS="${SHLIB_LD_LIBS} ${TK_STUB_LIB_SPEC}"
 	    fi
diff --git a/tcl/pkgs/tdbcmysql1.1.3/configure b/tcl/pkgs/tdbcmysql1.1.3/configure
index 2ed024bbb9..708fdfe74e 100755
--- a/tcl/pkgs/tdbcmysql1.1.3/configure
+++ b/tcl/pkgs/tdbcmysql1.1.3/configure
@@ -9577,7 +9577,7 @@ rm -rf conftest*
     else
 	RANLIB_STUB="${RANLIB}"
 	if test "${SHARED_BUILD}" = "1" ; then
-	    SHLIB_LD_LIBS="${SHLIB_LD_LIBS} ${TCL_STUB_LIB_SPEC}"
+	    SHLIB_LD_LIBS="${SHLIB_LD_LIBS} -L../.. ${TCL_STUB_LIB_SPEC}"
 	    if test x"${TK_BIN_DIR}" != x ; then
 		SHLIB_LD_LIBS="${SHLIB_LD_LIBS} ${TK_STUB_LIB_SPEC}"
 	    fi
diff --git a/tcl/pkgs/tdbcodbc1.1.3/configure b/tcl/pkgs/tdbcodbc1.1.3/configure
index bb4583da97..d99ef0e75d 100755
--- a/tcl/pkgs/tdbcodbc1.1.3/configure
+++ b/tcl/pkgs/tdbcodbc1.1.3/configure
@@ -9679,7 +9679,7 @@ rm -rf conftest*
     else
 	RANLIB_STUB="${RANLIB}"
 	if test "${SHARED_BUILD}" = "1" ; then
-	    SHLIB_LD_LIBS="${SHLIB_LD_LIBS} ${TCL_STUB_LIB_SPEC}"
+	    SHLIB_LD_LIBS="${SHLIB_LD_LIBS} -L../.. ${TCL_STUB_LIB_SPEC}"
 	    if test x"${TK_BIN_DIR}" != x ; then
 		SHLIB_LD_LIBS="${SHLIB_LD_LIBS} ${TK_STUB_LIB_SPEC}"
 	    fi
diff --git a/tcl/pkgs/tdbcpostgres1.1.3/configure b/tcl/pkgs/tdbcpostgres1.1.3/configure
index 1724995c95..dfb88502a6 100755
--- a/tcl/pkgs/tdbcpostgres1.1.3/configure
+++ b/tcl/pkgs/tdbcpostgres1.1.3/configure
@@ -9679,7 +9679,7 @@ rm -rf conftest*
     else
 	RANLIB_STUB="${RANLIB}"
 	if test "${SHARED_BUILD}" = "1" ; then
-	    SHLIB_LD_LIBS="${SHLIB_LD_LIBS} ${TCL_STUB_LIB_SPEC}"
+	    SHLIB_LD_LIBS="${SHLIB_LD_LIBS} -L../.. ${TCL_STUB_LIB_SPEC}"
 	    if test x"${TK_BIN_DIR}" != x ; then
 		SHLIB_LD_LIBS="${SHLIB_LD_LIBS} ${TK_STUB_LIB_SPEC}"
 	    fi
diff --git a/tcl/pkgs/thread2.8.7/configure b/tcl/pkgs/thread2.8.7/configure
index 10f3dedd51..70c976ad36 100755
--- a/tcl/pkgs/thread2.8.7/configure
+++ b/tcl/pkgs/thread2.8.7/configure
@@ -14717,7 +14717,7 @@ rm -rf conftest*
     else
 	RANLIB_STUB="${RANLIB}"
 	if test "${SHARED_BUILD}" = "1" ; then
-	    SHLIB_LD_LIBS="${SHLIB_LD_LIBS} ${TCL_STUB_LIB_SPEC}"
+	    SHLIB_LD_LIBS="${SHLIB_LD_LIBS} -L../.. ${TCL_STUB_LIB_SPEC}"
 	    if test x"${TK_BIN_DIR}" != x ; then
 		SHLIB_LD_LIBS="${SHLIB_LD_LIBS} ${TK_STUB_LIB_SPEC}"
 	    fi
-- 
2.33.0


From 364bea8064e6685f217f442017de345a270bdc60 Mon Sep 17 00:00:00 2001
From: "Vladimir D. Seleznev" <vseleznv@altlinux.org>
Date: Tue, 8 Oct 2019 18:31:22 +0300
Subject: [PATCH 13/16] ALT itcl uses tclInt.h from TCL sources instead of
 system include dir

TCL devel package is not installed when itcl is building, so it should use
private headers from the TCL source instead of system include directory.
---
 tcl/pkgs/itcl4.2.0/configure | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/tcl/pkgs/itcl4.2.0/configure b/tcl/pkgs/itcl4.2.0/configure
index 05910ea970..36362d6ca2 100755
--- a/tcl/pkgs/itcl4.2.0/configure
+++ b/tcl/pkgs/itcl4.2.0/configure
@@ -5316,7 +5316,8 @@ $as_echo_n "checking for Tcl private include files... " >&6; }
 	# public and private headers in the same set.
 	# We want to ensure these are substituted so as not to require
 	# any *_NATIVE vars be defined in the Makefile
-	TCL_INCLUDES="-I${TCL_GENERIC_DIR_NATIVE} -I${TCL_PLATFORM_DIR_NATIVE}"
+	TCL_SRC_DIR="`cd "$srcdir"/../..; pwd`"
+	TCL_INCLUDES="-I${TCL_GENERIC_DIR_NATIVE} -I${TCL_PLATFORM_DIR_NATIVE} -I${TCL_SRC_DIR}/generic -I${TCL_SRC_DIR}/unix"
 	if test "`uname -s`" = "Darwin"; then
             # If Tcl was built as a framework, attempt to use
             # the framework's Headers and PrivateHeaders directories
-- 
2.21.0

